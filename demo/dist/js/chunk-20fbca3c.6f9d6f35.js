(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20fbca3c"],{"0d90":function(t,e,i){},1173:function(t,e){t.exports=function(t,e,i,a){if(!(t instanceof e)||void 0!==a&&a in t)throw TypeError(i+": incorrect invocation!");return t}},"24c5":function(t,e,i){"use strict";var a,n,o,s,r=i("b8e3"),c=i("e53d"),l=i("d864"),u=i("40c3"),d=i("63b6"),f=i("f772"),p=i("79aa"),h=i("1173"),m=i("a22a"),v=i("f201"),g=i("4178").set,b=i("aba2")(),y=i("656e"),x=i("4439"),C=i("bc13"),S=i("cd78"),_="Promise",w=c.TypeError,k=c.process,I=k&&k.versions,T=I&&I.v8||"",D=c[_],$="process"==u(k),j=function(){},N=n=y.f,R=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[i("5168")("species")]=function(t){t(j,j)};return($||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof e&&0!==T.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(a){}}(),E=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var i=t._c;b(function(){var a=t._v,n=1==t._s,o=0,s=function(e){var i,o,s,r=n?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{r?(n||(2==t._h&&z(t),t._h=1),!0===r?i=a:(u&&u.enter(),i=r(a),u&&(u.exit(),s=!0)),i===e.promise?l(w("Promise-chain cycle")):(o=E(i))?o.call(i,c,l):c(i)):l(a)}catch(d){u&&!s&&u.exit(),l(d)}};while(i.length>o)s(i[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){g.call(c,function(){var e,i,a,n=t._v,o=F(t);if(o&&(e=x(function(){$?k.emit("unhandledRejection",n,t):(i=c.onunhandledrejection)?i({promise:t,reason:n}):(a=c.console)&&a.error&&a.error("Unhandled promise rejection",n)}),t._h=$||F(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},z=function(t){g.call(c,function(){var e;$?k.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},V=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},A=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw w("Promise can't be resolved itself");(e=E(t))?b(function(){var a={_w:i,_d:!1};try{e.call(t,l(A,a,1),l(V,a,1))}catch(n){V.call(a,n)}}):(i._v=t,i._s=1,O(i,!1))}catch(a){V.call({_w:i,_d:!1},a)}}};R||(D=function(t){h(this,D,_,"_h"),p(t),a.call(this);try{t(l(A,this,1),l(V,this,1))}catch(e){V.call(this,e)}},a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},a.prototype=i("5c95")(D.prototype,{then:function(t,e){var i=N(v(this,D));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=$?k.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&O(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new a;this.promise=t,this.resolve=l(A,t,1),this.reject=l(V,t,1)},y.f=N=function(t){return t===D||t===s?new o(t):n(t)}),d(d.G+d.W+d.F*!R,{Promise:D}),i("45f2")(D,_),i("4c95")(_),s=i("584a")[_],d(d.S+d.F*!R,_,{reject:function(t){var e=N(this),i=e.reject;return i(t),e.promise}}),d(d.S+d.F*(r||!R),_,{resolve:function(t){return S(r&&this===s?D:this,t)}}),d(d.S+d.F*!(R&&i("4ee1")(function(t){D.all(t)["catch"](j)})),_,{all:function(t){var e=this,i=N(e),a=i.resolve,n=i.reject,o=x(function(){var i=[],o=0,s=1;m(t,!1,function(t){var r=o++,c=!1;i.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,i[r]=t,--s||a(i))},n)}),--s||a(i)});return o.e&&n(o.v),i.promise},race:function(t){var e=this,i=N(e),a=i.reject,n=x(function(){m(t,!1,function(t){e.resolve(t).then(i.resolve,a)})});return n.e&&a(n.v),i.promise}})},2603:function(t,e,i){},3024:function(t,e){t.exports=function(t,e,i){var a=void 0===i;switch(e.length){case 0:return a?t():t.call(i);case 1:return a?t(e[0]):t.call(i,e[0]);case 2:return a?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return a?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return a?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},"34cb":function(t,e,i){"use strict";var a=i("92e7"),n=i.n(a);n.a},3702:function(t,e,i){var a=i("481b"),n=i("5168")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||o[n]===t)}},3936:function(t,e,i){},"3c11":function(t,e,i){"use strict";var a=i("63b6"),n=i("584a"),o=i("e53d"),s=i("f201"),r=i("cd78");a(a.P+a.R,"Promise",{finally:function(t){var e=s(this,n.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return r(e,t()).then(function(){return i})}:t,i?function(i){return r(e,t()).then(function(){throw i})}:t)}})},"40c3":function(t,e,i){var a=i("6b4c"),n=i("5168")("toStringTag"),o="Arguments"==a(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=s(e=Object(t),n))?i:o?a(e):"Object"==(r=a(e))&&"function"==typeof e.callee?"Arguments":r}},4178:function(t,e,i){var a,n,o,s=i("d864"),r=i("3024"),c=i("32fc"),l=i("1ec9"),u=i("e53d"),d=u.process,f=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,v=0,g={},b="onreadystatechange",y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},x=function(t){y.call(t.data)};f&&p||(f=function(t){var e=[],i=1;while(arguments.length>i)e.push(arguments[i++]);return g[++v]=function(){r("function"==typeof t?t:Function(t),e)},a(v),v},p=function(t){delete g[t]},"process"==i("6b4c")(d)?a=function(t){d.nextTick(s(y,t,1))}:m&&m.now?a=function(t){m.now(s(y,t,1))}:h?(n=new h,o=n.port2,n.port1.onmessage=x,a=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(t){u.postMessage(t+"","*")},u.addEventListener("message",x,!1)):a=b in l("script")?function(t){c.appendChild(l("script"))[b]=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:p}},"43fc":function(t,e,i){"use strict";var a=i("63b6"),n=i("656e"),o=i("4439");a(a.S,"Promise",{try:function(t){var e=n.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},4439:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"4c95":function(t,e,i){"use strict";var a=i("e53d"),n=i("584a"),o=i("d9f6"),s=i("8e60"),r=i("5168")("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:a[t];s&&e&&!e[r]&&o.f(e,r,{configurable:!0,get:function(){return this}})}},"4cf4":function(t,e,i){"use strict";var a=i("2603"),n=i.n(a);n.a},"4ee1":function(t,e,i){var a=i("5168")("iterator"),n=!1;try{var o=[7][a]();o["return"]=function(){n=!0},Array.from(o,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var o=[7],r=o[a]();r.next=function(){return{done:i=!0}},o[a]=function(){return r},t(o)}catch(s){}return i}},"5c95":function(t,e,i){var a=i("35e8");t.exports=function(t,e,i){for(var n in e)i&&t[n]?t[n]=e[n]:a(t,n,e[n]);return t}},"656e":function(t,e,i){"use strict";var a=i("79aa");function n(t){var e,i;this.promise=new t(function(t,a){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=a}),this.resolve=a(e),this.reject=a(i)}t.exports.f=function(t){return new n(t)}},"696e":function(t,e,i){i("c207"),i("1654"),i("6c1c"),i("24c5"),i("3c11"),i("43fc"),t.exports=i("584a").Promise},"6b69":function(t,e,i){},"795b":function(t,e,i){t.exports=i("696e")},"7cd6":function(t,e,i){var a=i("40c3"),n=i("5168")("iterator"),o=i("481b");t.exports=i("584a").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||o[a(t)]}},"92e7":function(t,e,i){},a21f:function(t,e,i){var a=i("584a"),n=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},a22a:function(t,e,i){var a=i("d864"),n=i("b0dc"),o=i("3702"),s=i("e4ae"),r=i("b447"),c=i("7cd6"),l={},u={};e=t.exports=function(t,e,i,d,f){var p,h,m,v,g=f?function(){return t}:c(t),b=a(i,d,e?2:1),y=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=r(t.length);p>y;y++)if(v=e?b(s(h=t[y])[0],h[1]):b(t[y]),v===l||v===u)return v}else for(m=g.call(t);!(h=m.next()).done;)if(v=n(m,b,h.value,e),v===l||v===u)return v};e.BREAK=l,e.RETURN=u},aba2:function(t,e,i){var a=i("e53d"),n=i("4178").set,o=a.MutationObserver||a.WebKitMutationObserver,s=a.process,r=a.Promise,c="process"==i("6b4c")(s);t.exports=function(){var t,e,i,l=function(){var a,n;c&&(a=s.domain)&&a.exit();while(t){n=t.fn,t=t.next;try{n()}catch(o){throw t?i():e=void 0,o}}e=void 0,a&&a.enter()};if(c)i=function(){s.nextTick(l)};else if(!o||a.navigator&&a.navigator.standalone)if(r&&r.resolve){var u=r.resolve(void 0);i=function(){u.then(l)}}else i=function(){n.call(a,l)};else{var d=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),i=function(){f.data=d=!d}}return function(a){var n={fn:a,next:void 0};e&&(e.next=n),t||(t=n,i()),e=n}}},b0dc:function(t,e,i){var a=i("e4ae");t.exports=function(t,e,i,n){try{return n?e(a(i)[0],i[1]):e(i)}catch(s){var o=t["return"];throw void 0!==o&&a(o.call(t)),s}}},bc13:function(t,e,i){var a=i("e53d"),n=a.navigator;t.exports=n&&n.userAgent||""},cc81:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content FJMain"},[i("div",{staticStyle:{flex:"1",overflow:"hidden",display:"flex","flex-direction":"column"}},[i("div",{staticClass:"peopleData"},[i("div",{staticClass:"propleSearch"},[i("div",{staticStyle:{display:"inline"},on:{keyup:function(e){if(!("button"in e)&&13!==e.keyCode)return null;t.getUser()}}},[i("el-input",{staticClass:"arcRadius",staticStyle:{width:"150px"},attrs:{placeholder:"请搜索"},model:{value:t.customerName,callback:function(e){t.customerName=e},expression:"customerName"}},[i("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),i("el-select",{staticStyle:{width:"150px",display:"inline-block","margin-left":"10px"},attrs:{filterable:"",placeholder:"科室"},model:{value:t.deptCode,callback:function(e){t.deptCode=e},expression:"deptCode"}},[i("el-option",{attrs:{label:"全部",value:"all"}}),t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.deptName,value:t.deptCode}})})],2),i("el-select",{staticStyle:{width:"150px",display:"inline-block","margin-left":"10px"},attrs:{filterable:"",placeholder:"状态"},model:{value:t.customerStatus,callback:function(e){t.customerStatus=e},expression:"customerStatus"}},[i("el-option",{attrs:{label:"未检",value:"0"}}),i("el-option",{attrs:{label:"到检",value:"1"}}),i("el-option",{attrs:{label:"已获取结果",value:"2"}})],1),i("div",{staticStyle:{display:"inline-block",margin:"0 16px"}},[i("el-date-picker",{staticClass:"input-class",attrs:{type:"datetimerange","picker-options":t.pickerOptions2,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",align:"right",size:"mini"},model:{value:t.tfDate,callback:function(e){t.tfDate=e},expression:"tfDate"}})],1),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.getUser()}}},[t._v("查询")])],1),i("div",{staticStyle:{display:"inline"},on:{keyup:function(e){if(!("button"in e)&&13!==e.keyCode)return null;t.getU()}}},[i("el-input",{staticClass:"arcRadius",staticStyle:{width:"150px",float:"right"},attrs:{placeholder:"请刷卡"},model:{value:t.cardNum,callback:function(e){t.cardNum=e},expression:"cardNum"}})],1)])]),i("div",{staticClass:"cardInfo",style:{display:t.shuaCard}},[i("el-button",{staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{type:"primary",plain:""},on:{click:function(e){t.shuaCard="none"}}},[t._v("关闭")]),i("div",{staticClass:"nameSexAge"},[t._v(t._s(t.custname)+"，"+t._s(t.sex)+"，"+t._s(t.age)+"岁")]),i("div",{staticClass:"notCheck"},[t._v("未检项目："+t._s(t.willInspectionItemName))]),i("div",{staticClass:"checked"},[t._v("已检项目："+t._s(t.inspectionOverItemName))])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"default-sort":{prop:"date",order:"descending"}}},[i("el-table-column",{attrs:{prop:"customerName",label:"姓名",width:"80"}}),i("el-table-column",{attrs:{prop:"sex",label:"性别",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.sex?i("span",[t._v("男")]):i("span",[t._v("女")])]}}])}),i("el-table-column",{attrs:{prop:"age",label:"年龄",sortable:"",width:"100"}}),i("el-table-column",{attrs:{prop:"cardNum",label:"体检卡号",sortable:"",width:"200"}}),i("el-table-column",{attrs:{prop:"tele",label:"联系电话",width:"200"}}),i("el-table-column",{attrs:{prop:"idcardNum",label:"身份证号",width:"200"}}),i("el-table-column",{attrs:{prop:"unitName",label:"单位名称"}}),i("el-table-column",{attrs:{label:"操作",width:"150",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small",id:"jc"},on:{click:function(i){t.watch(e.row,e.$index)}}},[t._v("检查")])]}}])})],1),i("div",{staticClass:"fixBottom"},[i("div",{staticClass:"right"},[i("el-pagination",{staticStyle:{display:"inline-block","text-align":"right"},attrs:{"current-page":t.pageIndex,"page-sizes":[10,15,20,30,50,100],layout:"total,sizes, prev, pager, next, jumper","page-count":t.pagesz,total:t.totalData},on:{"current-change":t.handleCurrentChange,"size-change":t.sizeChange}})],1)])],1),i("dialogcheck",{ref:"dialogcheck"})],1)},n=[],o=(i("ac6a"),i("4be7")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{id:"fjcheck",title:"录入详情",visible:t.FJCheckVisible,width:"1000px"},on:{"update:visible":function(e){t.FJCheckVisible=e},open:t.getInit}},[a("div",{staticClass:"container",staticStyle:{display:"flex","flex-direction":"row"}},[a("div",{staticClass:"leftContainer",attrs:{id:"resizable"}},[a("div",{staticClass:"subTitle"},[a("span",[t._v("客户信息")])]),a("div",{staticClass:"khxx"},[a("div",{staticStyle:{float:"left"}},[a("div",[a("span",[t._v("客户姓名:")]),a("span",[t._v(" "+t._s(t.customerName))])]),a("div",[a("span",[t._v("性别：")]),1==t.sex?a("span",[t._v(" 男")]):a("span",[t._v(" 女")])]),a("div",[a("span",[t._v("年龄:")]),a("span",[t._v(" "+t._s(t.age))])])]),a("div",{staticStyle:{float:"right","margin-top":"10px"}},[a("img",{staticClass:"avatar",attrs:{src:i("e711"),alt:"头像"}})]),a("div",{staticStyle:{clear:"both"}},[a("span",[t._v("身份证号:")]),a("span",[t._v(t._s(t.idcardNum))])]),a("div",[a("span",[t._v("婚姻状况:")]),a("span",[t._v(" "+t._s(t.marriageState))])])]),a("div",{staticClass:"subTitle"},[a("span",[t._v("检查项目")])]),a("div",{staticClass:"jcxm"},t._l(t.items,function(e,i){return a("div",{key:i,staticClass:"overflowHandle",class:{blue:t.blue==i},on:{click:function(a){t.highLight(i,e)}}},[t._v(t._s(e.rptItemName))])}),0)]),a("div",{staticClass:"middleContainer",attrs:{id:"resizable"}},[a("div",{staticClass:"subTitle",staticStyle:{"text-align":"right"}},[a("span",{staticStyle:{float:"left"}},[t._v("报告项目数据录入")]),a("el-button",[t._v("查看其他项目")]),a("el-select",{staticStyle:{width:"150px",display:"inline-block","margin-left":"10px"},attrs:{placeholder:"历次对比"},on:{change:function(e){t.getAllCompareData()}},model:{value:t.compare,callback:function(e){t.compare=e},expression:"compare"}},t._l(t.historyOrder,function(e){return a("el-option",{key:e.orderCode,attrs:{label:t._f("formatDate")(e.checkBeginTime,"YYYY-MM-DD"),value:e.orderCode}})}),1)],1),a("div",{staticClass:"bgxmsjlr"},[a("div",{staticClass:"leftInput"},t._l(t.xiaojieSelect,function(e,i){return a("div",{key:i},[a("div",{staticClass:"subTitle",staticStyle:{"text-align":"right",border:"1px solid #DCDFE5"}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.subItemName))]),0!=e.length?a("span",[a("el-select",{staticStyle:{width:"150px",display:"inline-block","margin-left":"10px"},attrs:{"value-key":"tmplCode",filterable:"",placeholder:"请搜索所见"},on:{change:function(e){t.appendFinding(e,i)}},model:{value:e.chooseFinding,callback:function(i){t.$set(e,"chooseFinding",i)},expression:"item.chooseFinding"}},t._l(e.resSubResultTemplates,function(t){return a("el-option",{key:t.tmplCode,attrs:{label:t.finding,value:t}})}),1),a("el-select",{staticStyle:{width:"100px",display:"inline-block","margin-left":"10px"},attrs:{placeholder:"是否异常"},model:{value:e.resultType,callback:function(i){t.$set(e,"resultType",i)},expression:"item.resultType"}},[a("el-option",{attrs:{label:"正常",value:"N"}}),a("el-option",{attrs:{label:"异常",value:"H"}})],1)],1):t._e()]),a("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.defaultResSubResultTemplate.finding,callback:function(i){t.$set(e.defaultResSubResultTemplate,"finding",i)},expression:"item.defaultResSubResultTemplate.finding"}})],1)}),0),t.ifShowCompare?a("div",{staticClass:"rightInput"},t._l(t.xiaojieSelect,function(e,i){return a("div",{key:i,ref:"history",refInFor:!0},[a("div",{staticClass:"subTitle",staticStyle:{"text-align":"right",border:"1px solid #DCDFE5"}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.subItemName))])]),a("div",{staticClass:"suojiandiv",attrs:{type:"textarea"}},[t._v(t._s(e.defaultResSubResultTemplate.finding))])])}),0):t._e()])]),a("div",{staticClass:"rightContainer",attrs:{id:"resizable"}},[a("div",{staticClass:"subTitle",staticStyle:{"text-align":"right"}},[a("span",{staticStyle:{float:"left"}},[t._v("小结")]),a("div",[a("el-button",{on:{click:t.addSummary}},[t._v("新增")]),a("el-button",{on:{click:t.delSummary}},[t._v("删除")])],1)]),a("div",{staticClass:"xj"},[a("el-table",{ref:"multipleTable",attrs:{"tooltip-effect":"dark",data:t.dataTable},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50px"}}),a("el-table-column",{attrs:{label:"小结",prop:"summary",width:"100px"}}),a("el-table-column",{attrs:{label:"操作",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){t.editSummary(e.row,e.$index)}}},[t._v("编辑")])]}}])})],1)],1),a("div",{staticClass:"subTitle",staticStyle:{"text-align":"right"}},[a("span",{staticStyle:{float:"left"}},[t._v("图片列表")]),a("div",{staticStyle:{"padding-top":"5px"}},[a("a",{staticClass:"a-upload",attrs:{href:"javascript:;"}},[a("input",{attrs:{type:"file",name:"",id:"",accept:"image/*"},on:{change:function(e){t.previewFile()}}}),t._v("上传\n          ")])])]),a("div",{staticClass:"tplb"},t._l(t.picList,function(e,i){return a("div",{key:i,staticClass:"tpcontainer"},[a("img",{staticClass:"tp",attrs:{src:e},on:{click:function(i){t.showBigPic(e)}}}),a("div",{staticClass:"del",on:{click:t.delPic}},[t._v("删除")])])}),0)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{float:"left"}},[t._v("暂 存")]),a("el-button",{on:{click:function(e){t.FJCheckVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.postResult()}}},[t._v("确 定")])],1),a("bigpic",{ref:"bigpic"}),a("dialogaddsummary",{ref:"dialogaddsummary",on:{postSummary:t.addNewSummary}}),a("dialogeditsummary",{ref:"dialogeditsummary",on:{posSummary:t.editNewSummary}})],1)},r=[],c=i("f499"),l=i.n(c),u=i("795b"),d=i.n(u),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"图片",visible:t.dialogVisible,modal:t.modal,width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{src:t.src}})])},p=[],h=(i("cadf"),i("551c"),i("097d"),{data:function(){return{modal:!1,dialogVisible:!1,src:""}}}),m=h,v=(i("d1db"),i("2877")),g=Object(v["a"])(m,f,p,!1,null,"f48a9aea",null);g.options.__file="showPic.vue";var b=g.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{id:"summary",title:"新增小结",visible:t.adviceEditVisible,modal:t.modal,width:"500px"},on:{open:t.getInit,"update:visible":function(e){t.adviceEditVisible=e}}},[i("el-input",{attrs:{type:"textarea",rows:"6"},model:{value:t.summary,callback:function(e){t.summary=e},expression:"summary"}}),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.adviceEditVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveChange()}}},[t._v("保 存")])],1)],1)},x=[],C={data:function(){return{modal:!1,adviceEditVisible:!1,summary:"",index:""}},methods:{saveChange:function(){var t={};t.summary=this.summary,t.index=this.index,this.$emit("postSummary",t),this.adviceEditVisible=!1},getInit:function(){this.content=""}}},S=C,_=(i("e9c0"),Object(v["a"])(S,y,x,!1,null,"5e044509",null));_.options.__file="DialogAddSummary.vue";var w=_.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{id:"summary",title:"编辑小结",visible:t.EditVisible,modal:t.modal,width:"500px"},on:{open:t.getInit,"update:visible":function(e){t.EditVisible=e}}},[i("el-input",{attrs:{type:"textarea",rows:"6"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.EditVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveChange()}}},[t._v("保 存")])],1)],1)},I=[],T={data:function(){return{modal:!1,EditVisible:!1,content:"",index:""}},methods:{saveChange:function(){var t={};t.content=this.content,t.index=this.index,this.$emit("posSummary",t),this.EditVisible=!1},getInit:function(){}}},D=T,$=(i("34cb"),Object(v["a"])(D,k,I,!1,null,"1ab54586",null));$.options.__file="DialogEditSummary.vue";var j=$.exports,N={components:{bigpic:b,dialogaddsummary:w,dialogeditsummary:j},data:function(){return{FJCheckVisible:!1,operatorCode:"001",orderCode:"c0015e6f-d95e-4deb-94cd-e2035af42b1a",depts:["K01"],items:[],customerName:"",sex:1,age:1,idcardNum:"",marriageState:"",headImg:"",blue:0,compare:[],dicSummary:[],chooseSummary:[],choosedObj:{},xiaojieSelect:[],originSelect:[],resultList:[],picList:[],fileList:[],dataTable:[],multipleSelection:[],historyOrder:"",historyxiaojieSelect:[],ifShowCompare:!1,ifAsk:!1}},methods:{getInit:function(){var t=this;this.getItems().then(function(e){0!=e.length&&(t.blue=0,t.choosedObj=e[0],t.getAllSubResultTemplate())}),this.getCompare(this.orderCode)},getItems:function(){var t=this,e=this,i={};i.orderCode=e.orderCode;var a=[];this.depts.forEach(function(t,e){a.push(t.deptCode)}),i.depts=a;var n=new d.a(function(a,n){e.$axios.post(t.$api.InspectionItem,i).then(function(t){console.log(8889,t.data),1==t.data.status&&0!=t.data.entity.length?(e.items=t.data.entity,a(t.data.entity)):(e.$message.error("错误：".concat(t.data.message)),n(!1))}).catch(function(t){e.$message.error("错误：".concat(t)),n(!1)})});return n},highLight:function(t,e){var i=this.blue;this.blue=t,this.choosedObj=e,t!=i&&(console.log(this.originSelect,123,l()(this.xiaojieSelect)),this.originSelect==l()(this.xiaojieSelect)||this.$confirm("<span>是否提交已编辑结论？</span><br />","提交确认",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){postResult()})),this.getAllSubResultTemplate(),this.ifAsk&&this.getAllCompareData()},getAllSubResultTemplate:function(){var t=this,e=this,i={},a=[];a.push(e.choosedObj.rptItemCode),i.orderCode=e.orderCode,i.rptItemCode=a;var n=new d.a(function(a,n){e.$axios.post(t.$api.InspectionItemDetail,i).then(function(t){console.log("result",t.data.entity),0!=t.data.entity?(e.xiaojieSelect=t.data.entity,e.originSelect=l()(t.data.entity),a(!0)):(e.$message.error("错误：".concat(t.data.message)),n(!1))}).catch(function(t){e.$message.error("错误：".concat(t)),n(!1)})});return n},showBigPic:function(t){this.$refs.bigpic.dialogVisible=!0,this.$refs.bigpic.src=t},previewFile:function(){var t=this,e=document.querySelector("input[type=file]").files[0],i=new FileReader;i.readAsDataURL(e),i.onloadend=function(){t.picList.push(i.result),t.fileList.push(i.result)}},delPic:function(t){var e=this;this.$confirm('<span>您确定要删除该图片吗？</span><br /><i style="color:#8F9399;">确定删除后将不可恢复</i>',"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"error"}).then(function(){e.picList.splice(t,1)})},addSummary:function(){this.$refs.dialogaddsummary.adviceEditVisible=!0},addNewSummary:function(t){this.dataTable.push(t)},editSummary:function(t,e){this.$refs.dialogeditsummary.EditVisible=!0,this.$refs.dialogeditsummary.content=t.content,this.$refs.dialogeditsummary.index=e},editNewSummary:function(t){console.log(t),this.dataTable[t.index].content=t.content},handleSelectionChange:function(t){console.log(t,7788),this.multipleSelection=t},delSummary:function(){var t=this,e=this;0!=e.multipleSelection.length&&this.$confirm('<span>您确定要删除已选中的小结吗？</span><br /><i style="color:#8F9399;">确定删除后将不可恢复</i>',"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"error"}).then(function(){t.dataTable.forEach(function(t,i){e.multipleSelection.forEach(function(a,n){t==a&&e.dataTable.splice(i,e.multipleSelection.length)})})})},appendFinding:function(t,e){if(console.log(t),""!=t.summary&&null!=t.summary){var i=this.dataTable.filter(function(e,i){return e.summary==t.summary});console.log(i),0==i.length&&this.dataTable.push(t)}"无明显异常"==t&&(this.xiaojieSelect[e].defaultResSubResultTemplate.finding=t.finding),"无明显异常"!=this.xiaojieSelect[e].defaultResSubResultTemplate.finding?this.xiaojieSelect[e].defaultResSubResultTemplate.finding+=t.finding:this.xiaojieSelect[e].defaultResSubResultTemplate.finding=t.finding,t.isAbnormal?this.xiaojieSelect[e].resultType="H":this.xiaojieSelect[e].resultType="N",console.log(1112,this.xiaojieSelect),console.log(2111,this.choosedObj)},postResult:function(){var t=this,e=this,i={},a=[];0!=this.xiaojieSelect.length&&this.xiaojieSelect.forEach(function(e,i){console.log("所见对象",e);var n={};null!=e.defaultResSubResultTemplate.innerCode&&""!=e.defaultResSubResultTemplate.innerCode&&(n.innerCode=e.defaultResSubResultTemplate.innerCode),n.orderCode=t.orderCode,n.rptItemCode=t.choosedObj.rptItemCode,n.rptSubItemCode=e.subItemCode,e.defaultResSubResultTemplate.finding&&(n.findings=e.defaultResSubResultTemplate.finding),n.resultType=e.resultType,n.rptDoctor=t.operatorCode,n.operator=t.operatorCode,n.reviewDoctor=t.operatorCode,a.push(n)}),0!=this.xiaojieSelect.length&&this.dataTable.forEach(function(e,i){var n={};null!=e.innerCode&&""!=e.innerCode&&(n.innerCode=e.innerCode),n.orderCode=t.orderCode,n.rptItemCode=t.choosedObj.rptItemCode,e.rptSubItemCode&&(n.rptSubItemCode=e.rptSubItemCode),e.summary&&(n.summary=e.summary),n.rptDoctor=t.operatorCode,n.operator=t.operatorCode,n.reviewDoctor=t.operatorCode,a.push(n)}),i.reqCommonSubItemResults=a;var n=[];0!=this.fileList.length&&(console.log(this.fileList),this.fileList.forEach(function(e,i){var a={};a.orderCode=t.orderCode,a.rptItemCode=t.choosedObj.rptItemCode,a.imgBase64=e,n.push(a.substri)}),i.images=n),console.log(l()(i));var o=new d.a(function(a,n){e.$axios.post(t.$api.SaveCommonSubItemResult,i).then(function(t){console.log(t.data,999),0!=t.data.entity?(alert(!0),a(!0)):(e.$message.error("错误：".concat(t.data.message)),n(!1))}).catch(function(t){e.$message.error("错误：".concat(t)),n(!1)})});return o},getCompare:function(t){var e=this;e.loading1=!0,this.$axios.post(this.$api.ReviewSummaryEachExceptionByOrderCode,{orderCode:t}).then(function(t){console.log(t.data.entity),e.loading=!1,1==t.data.status?0!=t.data.entity.length&&(e.historyOrder=t.data.entity,e.value=t.data.entity[0].orderCode):e.$message.error("ReviewSummaryEachExceptionByOrderCode错误：".concat(t.data.message))}).catch(function(t){e.loading=!1,e.$message.error("ReviewSummaryEachExceptionByOrderCode错误：".concat(t))})},getAllCompareData:function(){var t=this,e=this;e.ifAsk=!0;var i={};e.choosedObj.rptItemCode,i.OrderCode=e.compare,i.RptItemCode=e.choosedObj.rptItemCode,console.log(45,i);var a=new d.a(function(a,n){e.$axios.get(t.$api.GetCommonSubItemResultHistory,{params:i}).then(function(t){0!=t.data.entity.length&&1==t.data.status?(e.ifShowCompare=!0,console.log(0,t.data.entity),e.historyxiaojieSelect=t.data.entity,a(!0)):e.ifShowCompare=!1}).catch(function(t){e.$message.error("错误：".concat(t)),n(!1)})});return a}}},R=N,E=(i("ccb4"),Object(v["a"])(R,s,r,!1,null,null,null));E.options.__file="DialogCheck.vue";var O=E.exports,P={name:"FJMain",components:{dialogcheck:O},data:function(){return{name:"",customerName:"",custname:"",sex:"",age:1,tfDate:[new Date((new Date).getTime()-5184e6),new Date],options:[],deptCode:"all",customerStatus:"0",shuaCard:"none",cardNum:"",inspectionOverItemName:[],willInspectionItemName:[],operatorCode:"001",typecode1:"",pageSize:10,pageIndex:1,pagesz:1,tableData:[],loading:!0,totalData:0,pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]}}},created:function(){var t=this;this.getEunmType(this.operatorCode).then(function(e){t.getUser()}).catch(function(t){that.$message.error("错误：枚举类型获取失败")})},methods:{handleClick:function(){this.pageIndex=1,this.getUser()},sizeChange:function(t){this.pageSize=t,this.getUser()},handleCurrentChange:function(t){this.pageIndex=t,this.getUser()},getU:function(){if(""==this.cardNum||null==this.cardNum)this.$message.error("错误：卡号不能为空");else{var t={};t.PageIndex=this.pageIndex,t.PageSize=this.pageSize,t.PersonKey=this.cardNum;var e=[];this.options.forEach(function(t,i){e.push(t.deptCode)}),t.DeptCodes=e;var i=this;this.$axios.post(this.$api.OrderList,t).then(function(t){i.loading=!1,console.log(32,t),1==t.data.status&&0!=t.data.entity.resultData.length?(i.tableData=t.data.entity.resultData,i.pagesz=t.data.entity.totalPages,i.totalData=t.data.entity.totalCount,i.custname=t.data.entity.resultData[0].customerName,1==t.data.entity.resultData[0].sex?i.sex="男":i.sex="女",i.age=t.data.entity.resultData[0].age,i.getCheckedNoCheckedItems(t.data.entity.resultData[0].orderCode),i.cardInfoShow(),setTimeout(function(){document.getElementById("jc").click()},300)):i.tableData=[]}).catch(function(t){i.tableData=[],i.$message.error("错误：".concat(t))})}},getCheckedNoCheckedItems:function(t){var e=this;this.$axios.get(this.$api.GetOrderChargeItemInspectionState,{orderCode:t}).then(function(t){e.loading=!1,console.log(388,t),1==t.data.status?(e.inspectionOverItemName=t.data.entity.inspectionOverItemName,e.willInspectionItemName=t.data.entity.willInspectionItemName):e.tableData=[]}).catch(function(t){e.tableData=[],e.$message.error("错误：".concat(t))})},cardInfoShow:function(){this.shuaCard="block"},getUser:function(t){this.loading=!0;var e={};if(e.PageIndex=this.pageIndex,e.PageSize=this.pageSize,e.StartDate=null==this.tfDate?null:this.tfDate[0],e.EndDate=null==this.tfDate?null:this.tfDate[1],""!=this.customerName&&(e.PersonKey=this.customerName),e.InspectState=this.customerStatus,"all"==this.deptCode){var i=[];this.options.forEach(function(t,e){i.push(t.deptCode)}),e.DeptCodes=i}else{var a=[];a.push(this.deptCode),e.DeptCodes=a}var n=this;this.$axios.post(this.$api.OrderList,e).then(function(t){n.loading=!1,console.log(32,t),1==t.data.status&&0!=t.data.entity.resultData.length?(n.tableData=t.data.entity.resultData,n.pagesz=t.data.entity.totalPages,n.totalData=t.data.entity.totalCount):n.tableData=[]}).catch(function(t){n.tableData=[],n.$message.error("错误：".concat(t))})},watch:function(t,e){this.$refs.dialogcheck.FJCheckVisible=!0,this.$refs.dialogcheck.orderCode=t.orderCode,this.$refs.dialogcheck.depts=this.options,this.$refs.dialogcheck.customerName=t.customerName,this.$refs.dialogcheck.sex=t.sex,this.$refs.dialogcheck.age=t.age,this.$refs.dialogcheck.idcardNum=t.idcardNum,this.$refs.dialogcheck.marriageState=t.marriageState,this.$refs.dialogcheck.headImg="data:image/png;base64,"+t.headImg},getEunmType:function(t){var e=this,i=this,a=new o["Promise"](function(a,n){i.$axios.get(e.$api.PermissionDept,{params:{operatorCode:t}}).then(function(t){1==t.data.status&&0!=t.data.entity.length?(i.options=t.data.entity,a(!0)):(i.$message.error("错误：".concat(t.data.message)),n(!1))}).catch(function(t){i.$message.error("错误：".concat(t)),n(!1)})});return a}}},F=P,z=(i("4cf4"),Object(v["a"])(F,a,n,!1,null,null,null));z.options.__file="FJMain.vue";e["default"]=z.exports},ccb4:function(t,e,i){"use strict";var a=i("6b69"),n=i.n(a);n.a},cd78:function(t,e,i){var a=i("e4ae"),n=i("f772"),o=i("656e");t.exports=function(t,e){if(a(t),n(e)&&e.constructor===t)return e;var i=o.f(t),s=i.resolve;return s(e),i.promise}},d1db:function(t,e,i){"use strict";var a=i("3936"),n=i.n(a);n.a},e711:function(t,e,i){t.exports=i.p+"img/login-bg.e2134055.jpg"},e9c0:function(t,e,i){"use strict";var a=i("0d90"),n=i.n(a);n.a},f201:function(t,e,i){var a=i("e4ae"),n=i("79aa"),o=i("5168")("species");t.exports=function(t,e){var i,s=a(t).constructor;return void 0===s||void 0==(i=a(s)[o])?e:n(i)}},f499:function(t,e,i){t.exports=i("a21f")}}]);