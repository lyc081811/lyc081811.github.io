(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6e6ea78"],{"0103":function(t,e,a){"use strict";var o=a("2d7f"),s=a.n(o);s.a},"127c":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"topTitle"},[a("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:function(e){t.backParent()}}},[t._v("返回")]),a("span",{staticStyle:{"margin-left":"16px"}},[t._v("\n      客户：\n      "),a("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"click"}},[a("div",{staticStyle:{"font-size":"12px","font-family":"Microsoft YaHei","font-weight":"400","line-height":"16px",color:"rgba(96,98,102,1)"}},[a("p",[t._v("体检卡号："+t._s(t.rowData.cardNum))]),a("p",{staticStyle:{"margin-top":"5px"}},[t._v("单位名称："+t._s(t.rowData.unitName))])]),a("el-button",{staticStyle:{padding:"0px 0px","margin-left":"-4px","font-size":"14px","font-family":"Microsoft YaHei",color:"#606266","font-weight":"400","line-height":"19px"},attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v(t._s(t.rowData.customerName))])],1),a("i",{staticClass:"el-icon-arrow-down"})],1),a("span",{staticStyle:{"margin-left":"16px"}},[t._v("分栏展示：")]),a("div",{staticStyle:{margin:"0 1px",display:"inline-block","vertical-align":"baseline"}},[a("el-checkbox-group",{attrs:{size:"mini"},model:{value:t.checkBoxModal,callback:function(e){t.checkBoxModal=e},expression:"checkBoxModal"}},t._l(t.checkBoxOptions,function(e,o){return a("el-checkbox",{key:o,attrs:{border:"",label:e},on:{change:function(e){t.showClick(o)}}},[t._v(t._s(e))])}),1)],1),a("div",{staticClass:"right"},[0==t.rowData.isReject?a("div",[a("el-popover",{attrs:{trigger:"click",placement:"bottom"},on:{show:function(e){t.showReason()}}},[t._l(t.reasonData,function(e,o){return a("div",{key:o},[a("p",[t._v("时间："+t._s(t._f("formatDate")(e.rejectTime,"YYYY/MM/DD-HH:MM:SS")))]),a("p",[t._v("操作人："+t._s(e.operatorCode))]),a("p",[t._v("驳回原因："+t._s(e.rejectReason))]),a("hr")])}),a("el-button",{staticStyle:{"font-size":"14px","font-family":"Microsoft YaHei",color:"#606266","font-weight":"400","line-height":"19px"},attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"iconfont",staticStyle:{color:"#F56C6C"}},[t._v("")]),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("查看驳回原因")])])],2)],1):t._e(),a("el-button",{attrs:{type:"success",disabled:t.isDisabled,size:"medium"},on:{click:t.via}},[t._v("通过")])],1)],1),a("el-row",[a("div",{staticStyle:{flex:"1","border-right":"1px solid #DCDFE5",display:"flex","flex-direction":"column","min-width":"450px"},attrs:{id:"checkResult"}},[a("div",{staticClass:"subTitle",staticStyle:{flex:"0 0 40px"}},[a("span",{staticClass:"strong-Title"},[t._v("检查结果")]),a("div",{staticClass:"right"},[a("el-checkbox",{on:{change:t.checkboxChange}},[a("span",{staticStyle:{"font-size":"12px","font-family":"Microsoft YaHei","font-weight":"400","line-height":"16px",color:"rgba(96,98,102,1)",opacity:"1"}},[t._v("只看异常")])]),a("el-select",{staticClass:"selcs",attrs:{placeholder:"请选择"},on:{change:t.selChange},model:{value:t.curItem,callback:function(e){t.curItem=e},expression:"curItem"}},t._l(t.rptItems,function(t){return a("el-option",{key:t.typeCode,attrs:{label:t.typeName,value:t.typeCode}})}),1)],1)]),a("div",{staticClass:"peopleInfo"},[a("div",{attrs:{id:"yiban"}},[a("div",{staticStyle:{padding:"16px 0px"}},[a("div",{staticClass:"quote-s"},[a("span",[t._v("一般检查")])]),a("div",{staticClass:"table-border"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.checkloading,expression:"checkloading"}],staticStyle:{width:"100%",margin:"0px 0px -1px -1px"},attrs:{data:t.notFJData}},[a("el-table-column",{attrs:{prop:"itemName",align:"left",label:"项目名称"}}),a("el-table-column",{attrs:{prop:"findings",align:"center",label:"所见"}}),a("el-table-column",{attrs:{align:"center",label:"结果类型"},scopedSlots:t._u([{key:"default",fn:function(t){return"N"!=t.row.resultType?[a("span",{staticClass:"circle"})]:void 0}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",disabled:t.isDisabled},on:{click:function(a){t.showgenins(e.row,e.$index,1)}}},[t._v("编辑")])]}}])})],1)],1),t.notFJData.length>0?a("div",{staticClass:"center-smile"},[a("div",{staticStyle:{flex:"1","padding-left":"12px",color:"#606266","font-size":"12px"}},[t._v(t._s(t.notFJData[0].combinSummary))])]):t._e(),t.notFJData.length>0?a("div",{staticClass:"buttom"},[a("div",[t._v("报告医生："+t._s(t.notFJData[0].rptDoctor)+" 报告时间："+t._s(t._f("formatDate")(t.notFJData[0].rptTime,"YYYY-MM-DD"))+" 审核医生："+t._s(t.notFJData[0].reviewDoctor)+" 审核时间："+t._s(t._f("formatDate")(t.notFJData[0].reviewTime,"YYYY-MM-DD")))])]):t._e()])]),a("div",{staticStyle:{display:"none"},attrs:{id:"wuli"}},[a("div",{staticStyle:{padding:"16px 0px"}},[a("div",{staticClass:"quote-s"},[a("span",[t._v("检查名字")])]),a("div",{staticClass:"table-border"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.checkloading,expression:"checkloading"}],staticStyle:{width:"100%",margin:"0px 0px -1px -1px"},attrs:{data:t.notFJData}},[a("el-table-column",{attrs:{prop:"itemName",align:"left",label:"项目名称"}}),a("el-table-column",{attrs:{prop:"findings",align:"center",label:"所见"}}),a("el-table-column",{attrs:{align:"center",label:"结果类型"},scopedSlots:t._u([{key:"default",fn:function(t){return"N"!=t.row.resultType?[a("span",{staticClass:"circle"})]:void 0}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",disabled:t.isDisabled},on:{click:function(a){t.showgenins(e.row,e.$index,2)}}},[t._v("编辑")])]}}])})],1)],1),t.notFJData.length>0?a("div",{staticClass:"center-smile"},[a("div",{staticStyle:{flex:"1","padding-left":"12px",color:"#606266","font-size":"12px"}},[t._v(t._s("undefined"==t.notFJData[0]?"":t.notFJData[0].combinSummary))])]):t._e(),t.notFJData.length>0?a("div",{staticClass:"buttom"},[a("div",[t._v("报告医生："+t._s(t.notFJData[0].rptDoctor)+" 报告时间："+t._s(t._f("formatDate")(t.notFJData[0].rptTime,"YYYY-MM-DD"))+" 审核医生："+t._s(t.notFJData[0].reviewDoctor)+" 审核时间："+t._s(t._f("formatDate")(t.notFJData[0].reviewTime,"YYYY-MM-DD")))])]):t._e()])]),a("div",{staticStyle:{display:"none"},attrs:{id:"shiyanshi"}},[a("div",{staticStyle:{padding:"16px 0px"}},[a("div",{staticClass:"quote-s"},[a("span",[t._v("检查名字")])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.checkloading,expression:"checkloading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.FJData}},[a("el-table-column",{attrs:{prop:"name",align:"left",label:"项目名称"}}),a("el-table-column",{attrs:{prop:"examValue",align:"center",label:"检查结果"}}),a("el-table-column",{attrs:{align:"center",label:"参考范围"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.lowReffer)+" - "+t._s(e.row.highReffer))]}}])}),a("el-table-column",{attrs:{prop:"unit",align:"center",label:"单位"}}),a("el-table-column",{attrs:{align:"center",label:"结果类型"},scopedSlots:t._u([{key:"default",fn:function(e){return["H"==e.row.resultType?a("span",[t._v("↑")]):"L"==e.row.resultType?a("span",[t._v("↓")]):a("span")]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",disabled:t.isDisabled},on:{click:function(a){t.showlabins(e.row,e.$index)}}},[t._v("编辑")])]}}])})],1)],1)]),a("div",{staticStyle:{display:"none"},attrs:{id:"fuzhu"}},t._l(t.notFJData,function(e,o){return a("div",{key:o,staticStyle:{padding:"16px 0px"}},[a("div",{staticClass:"quote-s"},[a("span",[t._v(t._s(e.itemName))]),a("div",{staticClass:"right"},[t._l(t.getItems(e.imagePaths),function(e,o){return a("i",{key:o,staticClass:"el-icon-picture picture",on:{click:function(a){t.showimg(e)}}})}),a("el-button",{staticStyle:{padding:"5px 15px"},attrs:{disabled:t.isDisabled,type:"text"},on:{click:function(a){t.showgenins(e,"",3)}}},[t._v("编辑")])],2)]),a("div",{staticClass:"center",staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"0 0 50px","padding-right":"0"}},[t._v("所见：")]),a("div",{staticStyle:{flex:"1","padding-left":"0"}},[t._v(t._s(e.findings))])]),a("div",{staticClass:"center",staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"0 0 50px","padding-right":"0"}},[t._v("小结：")]),a("div",{staticStyle:{flex:"1","padding-left":"0"}},[t._v(t._s(e.summary))])]),a("div",{staticClass:"center-smile",staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"0 0 80px","padding-right":"0"}},[t._v("结果类型:")]),a("div",{staticStyle:{flex:"1","padding-left":"0"}},["N"!=e.resultType?a("span",{staticClass:"circle"}):t._e()])]),a("div",{staticClass:"buttom"},[a("div",[t._v("报告医生："+t._s(e.rptDoctor)+" 报告时间："+t._s(t._f("formatDate")(e.rptTime,"YYYY-MM-DD"))+" 审核医生："+t._s(e.reviewDoctor)+" 审核时间："+t._s(t._f("formatDate")(e.reviewTime,"YYYY-MM-DD")))])])])}),0),a("div",{staticStyle:{display:"none"},attrs:{id:"tijian"}},[a("div",{staticStyle:{padding:"16px 4px"}},[a("div",{staticClass:"quote-s"},[a("span",[t._v("健康体检自测问卷")])]),t._l(t.WJData,function(e,o){return a("ul",{key:o,staticClass:"tblist"},[a("li",{staticClass:"title ellipsis"},[a("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"click",content:e.questionContent}},[a("span",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.questionContent))])])],1),a("li",{staticClass:"content ellipsis"},[a("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"click",content:t._f("correctFormatter")(e.answerValue)}},[a("span",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t._f("correctFormatter")(e.answerValue)))])])],1)])})],2)]),a("div",{staticStyle:{display:"none"},attrs:{id:"pinggu"}},t._l(t.PGData,function(e,o){return a("div",{key:o,staticStyle:{padding:"16px 4px"}},[a("div",{staticClass:"quote-s"},[a("span",[t._v(t._s(e.diseaseName))]),a("div",{staticClass:"right"},[a("el-button",{staticStyle:{padding:"5px 15px"},attrs:{disabled:t.isDisabled,type:"text"},on:{click:function(e){t.showchrins()}}},[t._v("编辑")])],1)]),a("div",{staticClass:"charts"},[a("div",{attrs:{id:"main"+e.diseaseCode}})])])}),0)])]),a("div",{staticStyle:{flex:"1","border-right":"1px solid #DCDFE5",display:"flex","flex-direction":"column","min-width":"300px"},attrs:{id:"abnormal"}},[a("div",{staticClass:"subTitle",staticStyle:{flex:"0 0 40px"}},[a("span",{staticClass:"strong-Title"},[t._v("异常汇总")]),a("div",{staticClass:"right"},[a("el-button",{attrs:{disabled:t.isDisabled},on:{click:function(e){t.reBuild(t.orderCode,t.operatorCode)}}},[t._v("重新生成")]),a("el-button",{attrs:{disabled:t.isDisabled},on:{click:t.addAbnormalShow}},[t._v("新增")]),a("el-button",{attrs:{disabled:t.isDisabled},on:{click:function(e){t.deleteAbnormal(t.multipleSelection)}}},[t._v("删除")])],1)]),a("div",{staticStyle:{flex:"1","overflow-y":"auto"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"abnormalTable",staticStyle:{width:"100%"},attrs:{data:t.tableData1,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"keys",align:"left",label:"异常内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isCrisis?a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.keys))]):a("span",[t._v(t._s(e.row.keys))])]}}])}),a("el-table-column",{attrs:{align:"center",width:"80",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",disabled:t.isDisabled},on:{click:function(a){t.edit(e.row,e.$index)}}},[t._v("编辑")])]}}])})],1)],1),a("div",{staticClass:"fixContainer"},[a("div",{staticClass:"fixedBottom"},[a("span",{staticClass:"reverseChoose",attrs:{disabled:t.isDisabled},on:{click:t.chooseReverse}},[t._v("反选")]),a("span",[t._v("合计：")]),a("span",{staticClass:"allCount"},[t._v(t._s(t.abnormalCount))]),a("span",[t._v("选中：")]),a("span",[t._v(t._s(t.abnormalChoosenCount))])]),a("div",{staticClass:"floatRight"},[a("el-button",{attrs:{disabled:t.isDisabled},on:{click:function(e){t.getAbnormal(t.orderCode,t.operatorCode)}}},[t._v("查看全部")]),a("el-button",{attrs:{disabled:t.isDisabled},on:{click:t.compare}},[t._v("历次对比")])],1)])]),a("div",{staticStyle:{flex:"3",overflow:"hidden",display:"flex","flex-direction":"column"},attrs:{id:"advSug"}},[a("div",{staticClass:"subTitle"},[a("span",{staticClass:"strong-Title"},[t._v("主检建议")]),a("div",{staticClass:"right"},[a("el-button",{attrs:{disabled:t.isDisabled},on:{click:function(e){t.reBuildAdvice(t.orderCode,t.operatorCode)}}},[t._v("重新生成")]),a("el-button",{attrs:{disabled:t.isDisabled},on:{click:t.addAdvicelShow}},[t._v("新增")]),a("el-button",{attrs:{disabled:t.isDisabled},on:{click:function(e){t.deleteAdvice(t.multipleSelection1)}}},[t._v("删除")])],1)]),a("div",{staticStyle:{flex:"1","overflow-y":"auto"},attrs:{id:"advTable"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading1,expression:"loading1"}],ref:"adviceTable",staticStyle:{width:"100%"},attrs:{data:t.tableData2,"tooltip-effect":"light"},on:{"selection-change":t.handleSelectionChangeSecond}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"advName",align:"left",label:"建议的名称",width:"100"}}),a("el-table-column",{attrs:{prop:"content",align:"left",label:"建议"}}),a("el-table-column",{attrs:{prop:"isStar",align:"left",label:"标记",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.isStar?a("i",{staticClass:"el-icon-star-on",staticStyle:{color:"#FC8F00"}}):a("i",{staticClass:"el-icon-star-off"})]}}])}),a("el-table-column",{attrs:{align:"right",label:"",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"click"}},[a("span",[t._v(t._s(t.itemcodes))]),a("el-button",{staticStyle:{border:"0px",color:"#3a8ee6"},attrs:{slot:"reference"},on:{click:function(a){t.getItem(e.row.orderCode,e.row.advCode)}},slot:"reference"},[t._v("异常组合")])],1)]}}])}),a("el-table-column",{attrs:{align:"center",width:"80",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",disabled:t.isDisabled},on:{click:function(a){t.editAdvise(e.row,e.$index)}}},[t._v("编辑")])]}}])})],1)],1),a("div",{staticClass:"fixContainer"},[a("div",{staticClass:"fixedBottom"},[a("span",{staticClass:"reverseChoose",attrs:{disabled:t.isDisabled},on:{click:t.chooseReverseAdvice}},[t._v("反选")]),a("span",[t._v("合计：")]),a("span",{staticClass:"allCount"},[t._v(t._s(t.abnormalCount1))]),a("span",[t._v("选中：")]),a("span",[t._v(t._s(t.abnormalChoosenCount1))])]),a("div",{staticClass:"floatRight"},[a("el-button",{attrs:{disabled:t.isDisabled},on:{click:t.goUp}},[t._v("上移")]),a("el-button",{attrs:{disabled:t.isDisabled},on:{click:t.goDown}},[t._v("下移")]),a("el-button",{attrs:{disabled:t.isDisabled},on:{click:function(e){t.reSort(t.orderCode)}}},[t._v("一键排序")])],1)])])]),a("dialogmodal",{ref:"dialogmodal",attrs:{name:t.dialogmodalName}}),a("dialogaddabnormal",{ref:"dialogaddabnormal"}),a("dialogcompare",{ref:"dialogcompare",attrs:{operatorCod:t.operatorCode,orderCod:t.orderCode}}),a("dialogaddadviece",{ref:"dialogaddadviece"}),a("dialogeditadviece",{ref:"dialogeditadviece"})],1)},s=[],i=a("795b"),n=a.n(i),l=a("e814"),r=a.n(l),c=(a("ac6a"),a("cebc")),d=(a("28a5"),a("bd86")),u=a("2f62"),p=a("313e"),m=a.n(p),h=a("53fe"),g=a.n(h),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialogmodal"},[a("el-dialog",{attrs:{title:t.title,visible:t.dialoggeninsIsShow,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){t.dialoggeninsIsShow=e},open:t.getGenData}},[a("el-form",{attrs:{model:t.genData}},[a("el-form-item",{attrs:{label:"项目名称","label-width":t.formLabelWidth}},[a("span",{staticClass:"span-text"},[t._v(t._s(t.genItemName))])]),a("el-form-item",{attrs:{label:"所见编辑","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:t.suojianType,rows:t.suojianRows,autocomplete:"off"},model:{value:t.genData.findings,callback:function(e){t.$set(t.genData,"findings",e)},expression:"genData.findings"}})],1),a("el-form-item",{attrs:{label:"小结编辑","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",placeholder:"我是提示文本",rows:4,autocomplete:"off"},model:{value:t.genData.summary,callback:function(e){t.$set(t.genData,"summary",e)},expression:"genData.summary"}})],1),a("el-form-item",{attrs:{label:"结果类型","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100px"},model:{value:t.genData.resultType,callback:function(e){t.$set(t.genData,"resultType",e)},expression:"genData.resultType"}},t._l(t.options,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeGen}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.UpdateGenData}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"实验室检查编辑",visible:t.dialoglabinsIsShow,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){t.dialoglabinsIsShow=e},open:t.getLabData}},[a("el-form",{attrs:{model:t.labData}},[a("el-form-item",{attrs:{label:"项目名称","label-width":t.formLabelWidth}},[a("span",{staticClass:"span-text"},[t._v(t._s(t.labItemName))])]),a("el-form-item",{attrs:{label:"检查结果","label-width":t.formLabelWidth}},[a("span",{staticClass:"span-text"},[t._v(t._s(t.labData.examValue))])]),a("el-form-item",{attrs:{label:"参考范围","label-width":t.formLabelWidth}},[a("span",{staticClass:"span-text"},[t._v(t._s(t.labData.lowReffer)+" - "+t._s(t.labData.highReffer))])]),a("el-form-item",{attrs:{label:"单位","label-width":t.formLabelWidth}},[a("span",{staticClass:"span-text"},[t._v(t._s(t.labData.unit))])]),a("el-form-item",{attrs:{label:"结果类型","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100px"},model:{value:t.labData.resultType,callback:function(e){t.$set(t.labData,"resultType",e)},expression:"labData.resultType"}},t._l(t.laboptions,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeLab}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.UpdateLabData}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"慢性病风险评估编辑",visible:t.dialogchrinsIsShow,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){t.dialogchrinsIsShow=e},open:t.getchrData}},[a("el-form",{attrs:{model:t.chrData}},[a("el-form-item",{attrs:{label:"项目名称","label-width":t.formLabelWidth}},[a("span",{staticClass:"span-text"},[t._v("高血压风险评估结果")])]),a("el-form-item",{attrs:{label:"结果类型","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100px"},model:{value:t.chrData.resultType,callback:function(e){t.$set(t.chrData,"resultType",e)},expression:"chrData.resultType"}},t._l(t.laboptions,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeChr}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.UpdateChrData}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"图片",visible:t.dialogimgIsShow,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){t.dialogimgIsShow=e},open:t.getImg,close:t.closeImg}},[a("img",{attrs:{src:t.imgBase64}})])],1)},b=[],v={name:"dialogmodal",props:{},data:function(){return{dialoggeninsIsShow:!1,dialoglabinsIsShow:!1,dialogchrinsIsShow:!1,dialogimgIsShow:!1,imgPath:"",imgBase64:"",genItemName:"",labItemName:"",chrItemName:"",genSearch:{},labSearch:{},chrSearch:{},genData:{},labData:{},chrData:{},title:"一般检查编辑",suojianType:"",suojianRows:"",formLabelWidth:"60px",options:[{value:"N",label:"正常"},{value:"H",label:"不正常"}],laboptions:[{value:"H",label:"↑"},{value:"N",label:"正常"},{value:"L",label:"↓"}]}},inject:["getPGItems","getNoFJItems","getFJItems"],methods:{getGenData:function(){var t=this;this.$axios.post(this.$api.GetFjRptSubItemRstNoLisByInnerCode,{InnerCode:this.genSearch.innerCode}).then(function(e){1==e.data.status?t.genData=e.data.entity:t.$message(e.data.message)}).catch(function(t){console.error(t.message)})},getLabData:function(){var t=this;this.$axios.post(this.$api.GetFjRptSubItemRstLisByInnerCode,{innerCode:this.labSearch.innerCode}).then(function(e){1==e.data.status?t.labData=e.data.entity:t.$message(e.data.message)}).catch(function(t){console.error(t.message)})},getchrData:function(){var t=this;this.$axios.post(this.$api.GetFjRptSubItemRstNoLisByInnerCode,{innerCode:this.chrSearch.innerCode}).then(function(e){1==e.data.status?t.chrData=e.data.entity:t.$message(e.data.message)}).catch(function(t){console.error(t.message)})},getImg:function(){var t=this;this.$axios.post(this.$api.GetBase64StringByImagePath,{Condition:"E:\\project\\vue\\src\\assets\\img\\xiongbu.jpg"}).then(function(e){if(1==e.data.status){var a="data:image/jpg;base64,"+e.data.entity;t.imgBase64=a}else t.$message(e.data.message)}).catch(function(t){console.error(t.message)})},UpdateGenData:function(){var t=this;this.$axios.post(this.$api.UpdateFjRptSubItemRisNoLis,this.genData).then(function(e){1==e.data.status?e.data.entity?(t.$message.success("更新成功"),t.closeGen(),t.getNoFJItems()):t.$message(e.data.message):t.$message.error(e.data.message)}).catch(function(t){console.error(t.message)})},UpdateLabData:function(){var t=this;this.$axios.post(this.$api.UpdateFjRptSubItemRisLis,this.labData).then(function(e){1==e.data.status?e.data.entity?(t.$message.success("更新成功"),t.closeLab(),t.getFJItems()):t.message(e.data.message):t.$message.error(e.data.message)}).catch(function(t){console.error(t.message)})},UpdateChrData:function(){var t=this;this.$axios.post(this.$api.UpdatePgDiseaseAssessRst,this.chrData).then(function(e){1==e.data.status?e.data.entity?(t.$message.success("更新成功"),t.closeChr(),t.getPGItems()):t.message(e.data.message):t.$message.error(e.data.message)}).catch(function(t){console.error(t.message)})},closeGen:function(){this.genData={},this.genItemName="",this.genSearch={},this.dialoggeninsIsShow=!1},closeLab:function(){this.labData={},this.labItemName="",this.labSearch={},this.dialoglabinsIsShow=!1},closeChr:function(){this.chrData={},this.chrItemName="",this.chrSearch={},this.dialogchrinsIsShow=!1},closeImg:function(){this.imgPath="",this.imgBase64="",this.dialogimgIsShow=!1}}},y=v,C=(a("7867"),a("2877")),x=Object(C["a"])(y,f,b,!1,null,"129b05dd",null);x.options.__file="Dialogmodal.vue";var $=x.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.addVisible,width:"830px"},on:{"update:visible":function(e){t.addVisible=e},open:t.getinit}},[a("ul",[a("li",[a("el-row",{staticStyle:{margin:"20px"}},[a("el-col",{attrs:{span:3}},[a("span",[t._v("项目名称：")])]),a("el-col",{attrs:{span:21}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",multiple:""},model:{value:t.itemValue,callback:function(e){t.itemValue=e},expression:"itemValue"}},t._l(t.options,function(t){return a("el-option",{key:t.itemCode,attrs:{value:t.itemCode,label:t.itemName}})}),1)],1)],1)],1),a("li",[a("el-row",{staticStyle:{margin:"20px"}},[a("el-col",{attrs:{span:3}},[a("span",[t._v("异常内容：")])]),a("el-col",{attrs:{span:21}},[a("el-select",{attrs:{"value-key":"abnormalCode",filterable:"",placeholder:"请选择"},on:{change:t.changeContent},model:{value:t.abnormalContent,callback:function(e){t.abnormalContent=e},expression:"abnormalContent"}},t._l(t.abnormalItems,function(t){return a("el-option",{key:t.abnormalCode,attrs:{value:t,label:t.abnormalName}})}),1),a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)],1),a("li",[a("el-row",{staticStyle:{margin:"20px"}},[a("el-col",{attrs:{span:3}},[a("span",[t._v("危急值：")])]),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.ifCrisis,callback:function(e){t.ifCrisis=e},expression:"ifCrisis"}},[a("el-option",{key:!0,attrs:{label:"是",value:!0}}),a("el-option",{key:!1,attrs:{label:"否",value:!1}})],1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveChange()}}},[t._v("保 存")])],1)])},S=[],_={name:"DialogAddAbnormal",data:function(){return{addVisible:!1,ifCrisis:!1,content:"",itemValue:[],orderCode:"",options:[],operatorCode:"",title:"异常内容新增",itemCode:"",innerCode:"",flag:1,abnormalItems:[],abnormalContent:""}},methods:{getItemsByOrderCode:function(t,e){var a=this;a.options=[],this.$axios.post(this.$api.GetAllRptItemByOrderCode,{orderCode:t,operatorCode:e}).then(function(t){1==t.data.status?(a.options=t.data.entity,1==a.flag&&0!=t.data.entity?a.itemValue.push(t.data.entity[0].itemCode):2==a.flag&&(console.log(a.itemCode),a.itemValue=a.itemCode.split(","))):a.$message.error("GetAllRptItemByOrderCode错误：".concat(t.data.message))}).catch(function(t){a.$message.error("GetAllRptItemByOrderCode错误：".concat(t))})},saveChange:function(){var t=this;if(""!=this.content&&null!=this.content){if(1==this.flag){var e={};e.orderCode=this.orderCode,e.RptItemCodes=this.itemValue.join(","),e.keys=this.content,e.IsCrisis=this.ifCrisis,this.content==this.abnormalContent.abnormalName&&(e.AbnormalCode=this.abnormalContent.abnormalCode),this.$axios.post(this.$api.InsertIntoFjRstAbnormal,e).then(function(e){1==e.data.status?(t.$message.success("插入成功"),t.$parent.getAbnormal(t.$parent.orderCode,t.$parent.operatorCode),t.addVisible=!1):t.$message.error("InsertIntoFjRstAbnormal错误：".concat(e.data.message))}).catch(function(e){t.$message.error("InsertIntoFjRstAbnormal错误：".concat(e))})}else if(2==this.flag){e={};e.innerCode=this.innerCode,e.orderCode=this.orderCode,e.RptItemCodes=this.itemValue.join(","),e.keys=this.content,e.IsCrisis=this.ifCrisis,e.operatorCode=this.$parent.operatorCode,this.content==this.abnormalContent.abnormalName&&(e.AbnormalCode=this.abnormalContent.abnormalCode),this.$axios.post(this.$api.UpdateFjRstAbnormal,e).then(function(e){1==e.data.status?(t.$message.success("更新成功"),t.$parent.getAbnormal(t.$parent.orderCode,t.$parent.operatorCode),t.addVisible=!1):t.$message.error("UpdateFjRstAbnormal错误：".concat(e.data.message))}).catch(function(e){t.$message.error("UpdateFjRstAbnormal错误：".concat(e))})}}else t.$message.error("异常内容不能为空")},getEditInit:function(t){var e=this;this.$axios.post(this.$api.GetFjRstAbnormalByInnerCode,{innerCode:t}).then(function(t){if(console.log(t),1==t.data.status){if(e.content=t.data.entity.keys,e.ifCrisis=t.data.entity.isCrisis,null!=t.data.entity.abnormalCode){var a={};a.Condition=t.data.entity.abnormalCode,e.$axios.post(e.$api.GetAbnomalsByCondition,a).then(function(t){console.log(t),1==t.data.status&&0!=t.data.entity.length?e.abnormalContent=t.data.entity[0]:e.$message.error("GetAllAbnomals错误：".concat(t.data.message))}).catch(function(t){e.$message.error("GetAllAbnomals错误：".concat(t))})}}else e.$message.error("GetFjRstAbnormalByInnerCode错误：".concat(t.data.message))}).catch(function(t){e.$message.error("GetFjRstAbnormalByInnerCode错误：".concat(t))})},GetAllAbnomals:function(){var t=this;this.$axios.post(this.$api.GetAllAbnomals).then(function(e){console.log(e),1==e.data.status?t.abnormalItems=e.data.entity:t.$message.error("GetAllAbnomals错误：".concat(e.data.message))}).catch(function(e){t.$message.error("GetAllAbnomals错误：".concat(e))})},changeContent:function(t){this.content=t.abnormalName},getinit:function(){this.content="",this.itemValue=[],this.options=[],this.ifCrisis=!1,this.abnormalContent="",1==this.flag?this.title="异常内容新增":2==this.flag&&(this.title="异常内容编辑",this.getEditInit(this.innerCode)),this.orderCode=this.$parent.orderCode,this.getItemsByOrderCode(this.orderCode,this.$parent.operatorCode),this.GetAllAbnomals()}}},w=_,k=(a("d4be"),Object(C["a"])(w,D,S,!1,null,"12f601e8",null));k.options.__file="DialogAddAbnormal.vue";var I=k.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"历次异常对比",visible:t.compareVisible,width:"900px",id:"dialogcompare"},on:{"update:visible":function(e){t.compareVisible=e},open:function(e){t.getinit()}}},[a("div",{staticStyle:{"text-align":"center"}},[a("el-table",{staticStyle:{width:"400px",display:"inline-block"},attrs:{id:"table1",data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"本次异常汇总",prop:"abnormalName"}})],1),a("el-table",{staticStyle:{width:"400px",display:"inline-block"},attrs:{id:"table2",data:t.tableData1,border:""}},[a("el-table-column",{attrs:{align:"left",prop:"abnormalName",id:"datatable1"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){t.getAbnormal(t.value,2,e.row)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(e){return a("el-option",{key:e.value,attrs:{label:t._f("formatDate")(e.checkBeginTime,"YYYY-MM-DD"),value:e.orderCode}})}),1)]}}])})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.compareVisible=!1}}},[t._v("关 闭")])],1)])},B=[],N={name:"DialogCompare",props:["operatorCod","orderCod"],data:function(){return{compareVisible:!1,tableData:[],tableData1:[],options:[],orderCode:"",operatorCode:"",loading:!0,loading1:!0,value:""}},mounted:function(){this.operatorCode=this.operatorCod,this.orderCode=this.orderCod},watch:{operatorCode:function(t,e){this.operatorCode=t,this.getinit()},orderCode:function(t,e){this.orderCode=t,this.getinit()}},methods:{getinit:function(){this.getAbnormal(this.orderCode,1),this.getCompare(this.orderCode)},getAbnormal:function(t,e,a){var o=this;o.loading=!0,this.$axios.post(this.$api.QuerySubtestExceptionItemSummaryByOrderCode,{orderCode:t}).then(function(t){console.log(t.data.entity),o.loading=!1,1==t.data.status?1==e?o.tableData=t.data.entity:o.tableData1=t.data.entity:o.$message.error("QuerySubtestExceptionItemSummaryByOrderCode错误：".concat(t.data.message))}).catch(function(t){o.loading=!1,o.$message.error("QuerySubtestExceptionItemSummaryByOrderCode错误：".concat(t))})},getCompare:function(t){var e=this;e.loading1=!0,this.$axios.post(this.$api.ReviewSummaryEachExceptionByOrderCode,{orderCode:t}).then(function(t){console.log(t.data.entity),e.loading=!1,1==t.data.status?0!=t.data.entity.length&&(e.options=t.data.entity,e.value=t.data.entity[0].orderCode,e.getAbnormal(e.value,2)):e.$message.error("ReviewSummaryEachExceptionByOrderCode错误：".concat(t.data.message))}).catch(function(t){e.loading=!1,e.$message.error("ReviewSummaryEachExceptionByOrderCode错误：".concat(t))})}}},R=N,G=(a("d463"),Object(C["a"])(R,A,B,!1,null,null,null));G.options.__file="DialogCompare.vue";var F=G.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.adviceVisible,width:"600px",id:"addadvice"},on:{"update:visible":function(e){t.adviceVisible=e},open:t.getinit}},[a("ul",[a("li",[a("el-row",[a("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:4}},[a("span",[t._v("建议名称：")])]),a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.setDefault},model:{value:t.itemValue,callback:function(e){t.itemValue=e},expression:"itemValue"}},t._l(t.options,function(t){return a("el-option",{key:t.advCode,attrs:{value:t.advCode,label:t.advName}})}),1)],1),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.adviceName,callback:function(e){t.adviceName=e},expression:"adviceName"}})],1)],1)],1),a("li",[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:4}},[a("span",[t._v("建议内容：")])]),a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:"8"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)],1),a("li",[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:4}},[a("span",[t._v("是否标星")])]),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.isStar,callback:function(e){t.isStar=e},expression:"isStar"}},[a("el-option",{key:!0,attrs:{value:!0,label:"是"}}),a("el-option",{key:!1,attrs:{value:!1,label:"否"}})],1)],1)],1)],1),a("li",[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:4}},[a("span",[t._v("权重")])]),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.Priority,callback:function(e){t.Priority=e},expression:"Priority"}},t._l(t.proOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.name}})}),1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.adviceVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveChange()}}},[t._v("保 存")])],1)])},T=[],j={name:"DialogAddAdviceAbnormal",data:function(){return{adviceVisible:!1,isStar:"false",adviceName:"",itemValue:"",orderCode:"",Priority:"",content:"",options:[],proOptions:[],operatorCode:"",title:"主检建议新增",flag:1}},methods:{getItemsByOrderCode:function(t){var e=this;e.options=[],this.$axios.post(this.$api.GetAllMedicalAdviceLst,{orderCode:t}).then(function(t){1==t.data.status?(e.options=t.data.entity,e.itemValue=t.data.entity[0].advCode,e.adviceName=t.data.entity[0].advName,e.content=t.data.entity[0].advContent,e.isStar=t.data.entity[0].isStar):e.$message.error("GetAllMedicalAdviceLst错误：".concat(t.data.message))}).catch(function(t){e.$message.error("GetAllMedicalAdviceLst错误：".concat(t))})},getPriorityType:function(){var t=this;t.options=[],this.$axios.post(this.$api.getPriorityType).then(function(e){console.log(2,e.data.entity),1==e.data.status?t.proOptions=e.data.entity:t.$message.error("GetAllMedicalAdviceLst错误：".concat(e.data.message))}).catch(function(e){t.$message.error("GetAllMedicalAdviceLst错误：".concat(e))})},setDefault:function(){var t=this;t.options.forEach(function(e){e.advCode==t.itemValue&&(t.itemValue=e.advCode,t.adviceName=e.advName,t.content=e.advContent,t.isStar=e.isStar)})},saveChange:function(){var t=this;if(""!=this.adviceName&&null!=this.adviceName)if(""!=this.content&&null!=this.content){var e={};e.OrderCode=this.orderCode,e.AdvCode=this.itemValue,e.AdvName=this.adviceName,e.Content=this.content,e.IsStar=this.isStar,""!=this.Priority&&(e.Priority=this.Priority),this.$axios.post(this.$api.InsertPGMasterRstDetail,e).then(function(e){1==e.data.status?(t.$message.success("插入成功"),t.Priority="",t.$parent.getAdvice(t.$parent.orderCode,t.$parent.operatorCode),t.adviceVisible=!1):t.$message.error("InsertPGMasterRstDetail错误：".concat(e.data.message))}).catch(function(e){t.$message.error("InsertPGMasterRstDetail错误：".concat(e))})}else t.$message.error("建议内容不能为空");else t.$message.error("建议名称不能为空")},getinit:function(){this.orderCode=this.$parent.orderCode,this.getItemsByOrderCode(this.orderCode),this.getPriorityType()}}},P=j,M=(a("7ce3"),Object(C["a"])(P,O,T,!1,null,null,null));M.options.__file="DialogAddAdvice.vue";var E=M.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.adviceEditVisible,width:"600px",id:"addadvice"},on:{"update:visible":function(e){t.adviceEditVisible=e},open:t.getinit}},[a("ul",[a("li",[a("el-row",[a("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:4}},[a("span",[t._v("建议名称：")])]),a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.setDefault},model:{value:t.itemValue,callback:function(e){t.itemValue=e},expression:"itemValue"}},t._l(t.options,function(t){return a("el-option",{key:t.advCode,attrs:{value:t.advCode,label:t.advName}})}),1)],1),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.adviceName,callback:function(e){t.adviceName=e},expression:"adviceName"}})],1)],1)],1),a("li",[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:4}},[a("span",[t._v("建议内容：")])]),a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:"8"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)],1),a("li",[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:4}},[a("span",[t._v("是否标星")])]),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.isStar,callback:function(e){t.isStar=e},expression:"isStar"}},[a("el-option",{key:!0,attrs:{value:!0,label:"是"}}),a("el-option",{key:!1,attrs:{value:!1,label:"否"}})],1)],1)],1)],1),a("li",[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticStyle:{"padding-top":"6px"},attrs:{span:4}},[a("span",[t._v("权重")])]),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.Priority,callback:function(e){t.Priority=e},expression:"Priority"}},t._l(t.proOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.name}})}),1)],1)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.adviceEditVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveChange()}}},[t._v("保 存")])],1)])},V=[],J={name:"DialogAddAdviceAbnormal",data:function(){return{adviceEditVisible:!1,isStar:!1,adviceName:"",itemValue:"",orderCode:"",adviceType:"",Priority:1,proOptions:"",content:"",options:[],operatorCode:"",title:"主检建议编辑",innerCode:"",entity:{}}},methods:{getItemsByOrderCode:function(t){var e=this;e.options=[];var a=new n.a(function(a,o){e.$axios.post(e.$api.GetAllMedicalAdviceLst,{orderCode:t}).then(function(t){1==t.data.status?(e.options=t.data.entity,a(t.data.entity)):e.$message.error("GetAllMedicalAdviceLst错误：".concat(t.data.message))}).catch(function(t){e.$message.error("GetAllMedicalAdviceLst错误：".concat(t))})});return a},getPriorityType:function(){var t=this;t.options=[],this.$axios.post(this.$api.getPriorityType).then(function(e){console.log(2,e.data.entity),1==e.data.status?t.proOptions=e.data.entity:t.$message.error("GetAllMedicalAdviceLst错误：".concat(e.data.message))}).catch(function(e){t.$message.error("GetAllMedicalAdviceLst错误：".concat(e))})},setDefault:function(){var t=this;t.options.forEach(function(e){e.advCode==t.itemValue&&(t.itemValue=e.advCode,t.adviceName=e.advName,t.content=e.advContent,t.isStar=e.isStar)})},getInitData:function(t){this.itemValue="";var e=this;this.$axios.post(this.$api.GetPgMasterRstDetailByInnerCode,{innerCode:t}).then(function(t){1==t.data.status?(e.adviceName=t.data.entity.advName,e.content=t.data.entity.content,e.isStar=t.data.entity.isStar,e.Priority=t.data.entity.priority,e.entity=t.data.entity):e.$message.error("GetLstPgMasterRstDetailByOrderCode错误：".concat(t.data.message))}).catch(function(t){e.$message.error("GetLstPgMasterRstDetailByOrderCode错误：".concat(t))})},saveChange:function(){var t=this;""!=this.adviceName&&null!=this.adviceName?""!=this.content&&null!=this.content?(this.entity.advName=t.adviceName,this.entity.content=t.content,this.entity.isStar=t.isStar,this.entity.advType=t.adviceType,this.entity.Priority=t.Priority,this.$axios.post(this.$api.UpdatePGMasterRstDetail,t.entity).then(function(e){1==e.data.status?(t.$message.success("更新成功"),t.$parent.getAdvice(t.$parent.orderCode,t.$parent.operatorCode),t.adviceEditVisible=!1):t.$message.error("UpdatePGMasterRstDetail200错误：".concat(e.data.message))}).catch(function(e){t.$message.error("UpdatePGMasterRstDetail错误：".concat(e))})):t.$message.error("建议内容不能为空"):t.$message.error("建议名称不能为空")},getinit:function(){var t=this;this.orderCode=this.$parent.orderCode,this.getPriorityType(),this.getItemsByOrderCode(this.orderCode).then(function(e){t.getInitData(t.innerCode)})}}},Y=J,U=(a("0103"),Object(C["a"])(Y,L,V,!1,null,null,null));U.options.__file="DialogEditAdvice.vue";var q=U.exports,H=(a("c1df"),a("4be7"),{name:"PGModal",components:{dialogmodal:$,dialogaddabnormal:I,dialogcompare:F,dialogaddadviece:E,dialogeditadviece:q,Sortable:g.a},data:function(){var t;return t={rowData:{},reasonData:[],parentName:"",operatorCode:"",isDisabled:!0,checkloading:!0,checkBoxModal:["一般检查","异常汇总","主检建议"],checkBoxOptions:["一般检查","异常汇总","主检建议"],dialogmodalName:"",curItem:"01",multipleSelection:[],condition:"",rptItems:[],notFJData:[],FJData:[],PGData:[],levels:[],series:[],serie:{type:"bar",stack:"风险情况",data:[],itemStyle:{normal:{color:""}}},WJData:[]},Object(d["a"])(t,"multipleSelection",[]),Object(d["a"])(t,"loading",!0),Object(d["a"])(t,"loading1",!0),Object(d["a"])(t,"abnormalCount",0),Object(d["a"])(t,"abnormalChoosenCount",0),Object(d["a"])(t,"itemcodes",""),Object(d["a"])(t,"tableData1",[]),Object(d["a"])(t,"tableData2",[]),Object(d["a"])(t,"abnormalCount1",0),Object(d["a"])(t,"multipleSelection1",[]),Object(d["a"])(t,"abnormalChoosenCount1",0),Object(d["a"])(t,"orderCode",""),t},created:function(){this.$store.commit("changeCollapse",!0),this.rowData=this.$route.query.rowData,this.parentName=this.$route.query.parentName,this.operatorCode=this.$route.query.operatorCode,this.isDisabled=!!this.$route.query.isDisabled,this.orderCode=this.$route.query.rowData.orderCode,console.log(this.rowData),this.getRptItems(),this.getNoFJItems(),this.getAbnormalDefault(this.$route.query.rowData.orderCode,this.curItem),this.getAdvice(this.orderCode,this.operatorCode)},provide:function(){return{getNoFJItems:this.getNoFJItems,getFJItems:this.getFJItems,getPGItems:this.getPGItems}},filters:{correctFormatter:function(t){var e=t.split(" ");return e=e.map(function(t){if(""!=t){var e=t.substring(2);return e="√"+e,e}}),e.join(" ")}},methods:Object(c["a"])({},Object(u["c"])(["changeCollapse"]),{getNoFJItems:function(){var t=this;this.checkloading=!0,this.$axios.post(this.$api.GetFjNoLisItemSummaryInfoByOrderCodeAndCondition,{orderCode:this.rowData.orderCode,operatorCode:this.operatorCode,Condition:this.condition,typeCode:this.curItem}).then(function(e){t.checkloading=!1,1==e.data.status?t.notFJData=e.data.entity:t.$message(e.data.message)}).catch(function(t){console.error(t.message)})},getFJItems:function(){var t=this;this.checkloading=!0,this.$axios.post(this.$api.GetFjLisItemSummaryInfoByOrderCodeAndCondition,{orderCode:this.rowData.orderCode,operatorCode:this.operatorCode,Condition:this.condition}).then(function(e){t.checkloading=!1,1==e.data.status?t.FJData=e.data.entity:t.$message(e.data.message)}).catch(function(t){console.error(t.message)})},getPGItems:function(){var t=this;this.$axios.post(this.$api.GetPgDiseaseAssessRstByOrderCode,{OrderCode:this.rowData.orderCode}).then(function(e){if(200==e.status&&1==e.data.status){var a=e.data.entity;a.length>0&&(t.PGData=a,a.forEach(function(e){setTimeout(function(){t.showCharts(e)},500)}))}else t.$message.error(e.data.message)}).catch(function(t){console.error(t)})},showCharts:function(t){var e=this,a=m.a.init(document.getElementById("main"+t.diseaseCode));e.levels=t.lstDicDiseaseRickLevel;var o=new Array;t.lstDicDiseaseRickLevel.forEach(function(e,a){var s=r()(t.riskLevelCode.substring(2,3)),i={};i=a==s?{type:"bar",stack:"风险情况",data:[1,s+1],itemStyle:{normal:{color:"#"+e.levelColor}}}:{type:"bar",stack:"风险情况",data:[1],itemStyle:{normal:{color:"#"+e.levelColor}}},o.push(i)});var s={tooltip:{trigger:"axis"},legend:{data:["风险等级","当前风险"]},xAxis:{data:["风险等级","当前风险"],splitLine:{show:!1}},grid:{left:60},yAxis:{min:0,max:t.lstDicDiseaseRickLevel.length,splitLine:{show:!1},axisLabel:{formatter:function(t){var a=[],o="";return e.levels.forEach(function(e){e.levelCode=="00"+r()(t+1)&&(o=e.levelName)}),a.push(o),a}}},series:o};a.setOption(s)},GetEexamItems:function(){var t=this;this.checkloading=!0,this.$axios.post(this.$api.GetPhysicalEexamQuestionPaperByOrderCode,{orderCode:"544B4A4F-107A-48B4-96BB-86597463D875"}).then(function(e){t.checkloading=!1,1==e.data.status?t.WJData=e.data.entity:t.$message(e.data.message)}).catch(function(t){console.error(t.message)})},getRptItems:function(){var t=this;this.$axios.post(this.$api.GetDicRptItemType).then(function(e){1==e.data.status?t.rptItems=e.data.entity:t.$message(e.data.message)}).catch(function(t){console.error(t.message)})},selChange:function(t){var e=document.getElementById("yiban"),a=document.getElementById("wuli"),o=document.getElementById("shiyanshi"),s=document.getElementById("fuzhu"),i=document.getElementById("tijian"),n=document.getElementById("pinggu");switch(t){case"01":e.style.display="block",a.style.display="none",o.style.display="none",s.style.display="none",i.style.display="none",n.style.display="none",this.getNoFJItems();break;case"02":e.style.display="none",a.style.display="block",o.style.display="none",s.style.display="none",i.style.display="none",n.style.display="none",this.getNoFJItems();break;case"04":e.style.display="none",a.style.display="none",o.style.display="none",s.style.display="block",i.style.display="none",n.style.display="none",this.getNoFJItems();break;case"03":e.style.display="none",a.style.display="none",o.style.display="block",s.style.display="none",i.style.display="none",n.style.display="none",this.getFJItems();break;case"05":e.style.display="none",a.style.display="none",o.style.display="none",s.style.display="none",i.style.display="none",n.style.display="block",this.getPGItems();break;case"06":e.style.display="none",a.style.display="none",o.style.display="none",s.style.display="none",i.style.display="block",n.style.display="none",this.GetEexamItems();break;default:break}this.getAbnormalDefault(this.orderCode,this.curItem)},drawLine:function(){},checkboxChange:function(t){this.condition=t?"H":"",this.getPGItems(),this.getFJItems(),this.getNoFJItems()},showgenins:function(t,e,a){var o=this.$refs.dialogmodal;switch(a){case 1:break;case 2:o.title="物理检查编辑",o.suojianType="textarea",o.suojianRows=2;break;case 3:o.title="辅助检查编辑",o.suojianType="textarea",o.suojianRows=4;break;default:break}o.genSearch=t,o.genItemName=t.itemName,o.dialoggeninsIsShow=!0},showlabins:function(t,e){var a=this.$refs.dialogmodal;a.labSearch=t,a.labItemName=t.itemName,a.dialoglabinsIsShow=!0},showchrins:function(t,e){var a=this.$refs.dialogmodal;a.chrSearch=t,a.chrItemName=t.itemName,a.dialogchrinsIsShow=!0},showimg:function(t){this.$refs.dialogmodal.imgPath=t,this.$refs.dialogmodal.dialogimgIsShow=!0},backParent:function(){this.$router.push({path:"/pg/"+this.parentName}),this.$store.commit("changeCollapse",!1)},via:function(){var t=this,e=this;new n.a(function(a,o){e.tableData2.map(function(t,e){return t.orderNum=r()(e+1)}),t.$axios.post(t.$api.BatchUpdatePgMasterRstDetail,e.tableData2).then(function(t){1==t.data.status?a(!0):e.$message.error("GetAKeySequenceByOrderCode错误：".concat(t.data.message))}).catch(function(t){o(t),e.$message.error("GetAKeySequenceByOrderCode错误：".concat(t))})}).then(function(a){t.$axios.post(t.$api.AdoptionAssessorPGUser,{OrderCode:t.rowData.orderCode,OperatorCode:t.operatorCode}).then(function(a){var o=a.data;1==o.status?o.entity?(e.$message.success("评估通过"),t.$axios.post(t.$api.IsHasSH).then(function(e){1!=e.data.status||e.data.entity||t.$axios.get(t.$api.MakeReport)}).catch(function(t){console.error(t)}),e.backParent()):t.openNotify("评估失败",o.message):e.$message.error(a.data.message)}).catch(function(t){console.error(t.message)})})},showReason:function(){var t=this;this.$axios.post(this.$api.GetLstShFinalRejectRecordByOrderCode,{orderCode:this.rowData.orderCode}).then(function(e){1==e.data.status?(t.reasonData=e.data.entity,console.log(t.reasonData)):t.$message.error(e.data.message)}).catch(function(e){t.$message.error(e.message)})},getItems:function(t){if(null!=t){var e=t.split("|");return e}},showClick:function(t){var e=null;switch(t){case 0:e=document.getElementById("checkResult");break;case 1:e=document.getElementById("abnormal");break;case 2:e=document.getElementById("advSug");break}this.show_Hidden(e)},show_Hidden:function(t){"none"!=t.style.display?t.style.display="none":t.style.display="flex"},getAbnormalDefault:function(t,e){var a=this;"06"==e?this.$axios.post(this.$api.GetPaperFjRstAbnormalByOrderCodeAndType,{orderCode:t,TypeCode:2}).then(function(t){a.loading=!1,1==t.data.status?0!=t.data.entity.length?(a.tableData1=t.data.entity,a.abnormalCount=t.data.entity.length):(a.tableData1=[],a.abnormalCount=0):a.$message(t.data.message)}).catch(function(t){console.error(1,t.message)}):this.$axios.post(this.$api.GetFjRstAbnormalByOrderCodeAndTypeCode,{orderCode:t,TypeCode:e}).then(function(t){a.loading=!1,1==t.data.status?0!=t.data.entity.length?(a.tableData1=t.data.entity,a.abnormalCount=t.data.entity.length):(a.tableData1=[],a.abnormalCount=0):a.$message(t.data.message)}).catch(function(t){console.error(1,t.message)})},getAbnormal:function(t,e){var a=this;a.loading=!0,this.$axios.post(this.$api.QuerySubtestExceptionItemSummaryByOrderCode,{orderCode:t,operatorCode:e}).then(function(t){a.loading=!1,1==t.data.status?(a.tableData1=t.data.entity,a.abnormalCount=t.data.entity.length):a.$message.error("QuerySubtestExceptionItemSummaryByOrderCode错误：".concat(t.data.message))}).catch(function(t){a.$message.error("QuerySubtestExceptionItemSummaryByOrderCode错误：".concat(t))})},getAdvice:function(t,e){var a=this;a.loading1=!0,this.$axios.post(this.$api.GetLstPgMasterRstDetailByOrderCode,{orderCode:t,operatorCode:e}).then(function(t){a.loading1=!1,1==t.data.status?(a.tableData2=t.data.entity,a.abnormalCount1=t.data.entity.length):a.$message.error("QuerySubtestExceptionItemSummaryByOrderCode错误：".concat(t.data.message))}).catch(function(t){a.$message.error("QuerySubtestExceptionItemSummaryByOrderCode错误：".concat(t))})},getItem:function(t,e){var a=this;this.$axios.post(this.$api.GetAbonomalSourceByAdvCode,{orderCode:t,advCode:e}).then(function(t){1==t.data.status?0!=t.data.entity.length&&(a.itemcodes=t.data.entity):a.$message.error("GetAbonomalSourceByAdvCode错误：".concat(t.data.message))}).catch(function(t){console.log("GetAbonomalSourceByAdvCode错误(新增的建议没有项目组合)：".concat(response.data.message))})},compare:function(){this.$refs.dialogcompare.compareVisible=!0},reBuild:function(t,e){var a=this,o=this;this.$confirm('<span>确定重新生成异常汇总？</span><br /><i style="color:#8F9399;">重新生成会导致新增异常丢失，请谨慎操作</i>',"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,iconClass:"el-icon-warning",type:"error"}).then(function(){a.$axios.post(a.$api.GenerateAbnomalSummaryByOrderCode,{orderCode:t,operatorCode:e}).then(function(a){1==a.data.status?(o.$message.success("重新生成成功"),o.getAbnormal(t,e)):o.$message.error("GenerateAbnomalSummaryByOrderCode错误：".concat(a.data.message))}).catch(function(t){o.$message.error("GenerateAbnomalSummaryByOrderCode错误：".concat(t))})}).catch(function(){})},reBuildAdvice:function(t,e){var a=this,o=this;this.$confirm('<span>确定重新生成建议？</span><br /><i style="color:#8F9399;">重新生成会导致新增建议丢失，请谨慎操作</i>',"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"error"}).then(function(){a.$axios.post(a.$api.GenerateMedicalGuidancesByOrderCode,{orderCode:t,operatorCode:e}).then(function(a){1==a.data.status?(o.$message.success("重新生成成功"),o.getAdvice(t,e)):o.$message.error("GenerateMedicalGuidancesByOrderCode错误：".concat(a.data.message))}).catch(function(t){o.$message.error("GenerateAbnomalSummaryByOrderCode错误：".concat(t))})}).catch(function(){})},reSort:function(t){var e=this;this.$axios.post(this.$api.GetAKeySequenceByOrderCode,{orderCode:t}).then(function(t){1==t.data.status?e.tableData2=t.data.entity:e.$message.error("GetAKeySequenceByOrderCode错误：".concat(t.data.message))}).catch(function(t){e.$message.error("GetAKeySequenceByOrderCode错误：".concat(t))})},goUp:function(){var t=this,e=this;0!=this.multipleSelection1.length?this.tableData2.forEach(function(a,o){t.multipleSelection1.forEach(function(t,s){if(a.innerCode==t.innerCode)return e.tableDataUp(e.tableData2,e.tableData2[o],o),!1})}):this.$message.error("至少选中一个项目")},tableDataUp:function(t,e,a){if(a>0){var o=t[a-1];t.splice(a-1,1),t.splice(a,0,o)}},goDown:function(){var t=this,e=this,a=[];0!=this.multipleSelection1.length?(console.log(88,this.tableData2,this.multipleSelection1),this.tableData2.forEach(function(o,s){t.multipleSelection1.forEach(function(t,i){if(o.innerCode==t.innerCode){var n={};n.currRow=e.tableData2[s],n.currRowIndex=s,a.push(n)}})}),this.tableDataDown(this.tableData2,a)):this.$message.error("至少选中一个项目")},tableDataDown:function(t,e){e.reverse().forEach(function(e,a){if(e.currRowIndex.index!==t.length-1){var o=t[e.currRowIndex];console.log(11,e.currRowIndex),t.splice(e.currRowIndex,1),t.splice(e.currRowIndex+1,0,o)}})},submitAdvice:function(){var t=this;t.tableData2.map(function(t,e){return t.orderNum=r()(e+1)}),this.$axios.post(this.$api.BatchUpdatePgMasterRstDetail,t.tableData2).then(function(e){1==e.data.status?t.$message.success("建议插入成功"):t.$message.error("GetAKeySequenceByOrderCode错误：".concat(e.data.message))}).catch(function(e){t.$message.error("GetAKeySequenceByOrderCode错误：".concat(e))})},deleteAbnormal:function(t){var e=this;0!=t.length?this.$confirm('<span>确定对当前所选异常进行删除操作？</span><br /><i style="color:#8F9399;">删除后不可恢复，请谨慎操作</i>',"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"error"}).then(function(){var a=e;e.$axios.post(e.$api.BatchDeleteFjRstAbnormal,t).then(function(t){1==t.data.status?(a.$message.success("删除成功"),a.getAbnormal(a.orderCode,a.operatorCode)):a.$message.error("BatchDeleteFjRstAbnormal错误：".concat(t.data.message))}).catch(function(t){a.$message.error("BatchDeleteFjRstAbnormal错误：".concat(t))})}).catch(function(){}):this.$message.error("至少选中一条")},deleteAdvice:function(t){var e=this;0!=t.length?this.$confirm('<span>确定对当前所选建议进行删除操作？</span><br /><i style="color:#8F9399;">删除后不可恢复，请谨慎操作</i>',"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"error"}).then(function(){var a=e;e.$axios.post(e.$api.BathchDeletePgMasterRstDetail,t).then(function(t){1==t.data.status?(a.$message.success("删除成功"),a.getAdvice(a.orderCode,a.operatorCode)):a.$message.error("BatchDeleteFjRstAbnormal错误：".concat(t.data.message))}).catch(function(t){a.$message.error("BatchDeleteFjRstAbnormal错误：".concat(t))})}).catch(function(){}):this.$message.error("至少选中一条")},chooseReverse:function(){var t=this;this.tableData1.forEach(function(e){t.$refs.abnormalTable.toggleRowSelection(e)})},chooseReverseAdvice:function(){var t=this;this.tableData2.forEach(function(e){t.$refs.adviceTable.toggleRowSelection(e)})},edit:function(t,e){this.$refs.dialogaddabnormal.flag=2,this.$refs.dialogaddabnormal.innerCode=t.innerCode,this.$refs.dialogaddabnormal.itemCode=t.rptItemCodes,this.$refs.dialogaddabnormal.addVisible=!0},editAdvise:function(t,e){this.$refs.dialogeditadviece.innerCode=t.innerCode,this.$refs.dialogeditadviece.adviceType=t.adviceType,this.$refs.dialogeditadviece.adviceEditVisible=!0},addAbnormalShow:function(){this.$refs.dialogaddabnormal.flag=1,this.$refs.dialogaddabnormal.addVisible=!0},addAdvicelShow:function(){this.$refs.dialogaddadviece.flag=1,this.$refs.dialogaddadviece.adviceVisible=!0},handleSelectionChange:function(t){this.multipleSelection=t,this.abnormalChoosenCount=this.multipleSelection.length},handleSelectionChangeSecond:function(t){this.multipleSelection1=t,this.abnormalChoosenCount1=this.multipleSelection1.length},rowClass:function(t,e){return"color:#606266;font-size:12px"},cellClass:function(t,e,a,o){return"color:#909398;font-size:10px;text-align:right"}})}),W=H,z=(a("e4aee"),Object(C["a"])(W,o,s,!1,null,"82a555ee",null));z.options.__file="PGModal.vue";e["default"]=z.exports},"2d7f":function(t,e,a){},"4e5f":function(t,e,a){},7867:function(t,e,a){"use strict";var o=a("c422"),s=a.n(o);s.a},"7ce3":function(t,e,a){"use strict";var o=a("4e5f"),s=a.n(o);s.a},"805e":function(t,e,a){},bf8c:function(t,e,a){},c422:function(t,e,a){},d463:function(t,e,a){"use strict";var o=a("805e"),s=a.n(o);s.a},d4be:function(t,e,a){"use strict";var o=a("ecd0"),s=a.n(o);s.a},e4aee:function(t,e,a){"use strict";var o=a("bf8c"),s=a.n(o);s.a},ecd0:function(t,e,a){}}]);